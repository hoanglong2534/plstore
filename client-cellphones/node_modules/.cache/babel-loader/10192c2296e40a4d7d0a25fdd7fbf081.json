{"ast":null,"code":"import _slicedToArray from \"@babel/runtime/helpers/esm/slicedToArray\";\nimport _typeof from \"@babel/runtime/helpers/esm/typeof\";\n\n/**\r\n * Removed props:\r\n *  - childrenProps\r\n */\nimport React from 'react';\nimport { composeRef } from \"rc-util/es/ref\";\nimport isVisible from \"rc-util/es/Dom/isVisible\";\nimport { alignElement, alignPoint } from 'dom-align';\nimport addEventListener from \"rc-util/es/Dom/addEventListener\";\nimport { isSamePoint, restoreFocus, monitorResize } from './util';\nimport useBuffer from './hooks/useBuffer';\nfunction getElement(func) {\n  if (typeof func !== 'function') return null;\n  return func();\n}\nfunction getPoint(point) {\n  if (_typeof(point) !== 'object' || !point) return null;\n  return point;\n}\nvar Align = function Align(_ref, ref) {\n  var children = _ref.children,\n    disabled = _ref.disabled,\n    target = _ref.target,\n    align = _ref.align,\n    onAlign = _ref.onAlign,\n    monitorWindowResize = _ref.monitorWindowResize,\n    _ref$monitorBufferTim = _ref.monitorBufferTime,\n    monitorBufferTime = _ref$monitorBufferTim === void 0 ? 0 : _ref$monitorBufferTim;\n  var cacheRef = React.useRef({});\n  var nodeRef = React.useRef();\n  var childNode = React.Children.only(children); // ===================== Align ======================\n  // We save the props here to avoid closure makes props ood\n\n  var forceAlignPropsRef = React.useRef({});\n  forceAlignPropsRef.current.disabled = disabled;\n  forceAlignPropsRef.current.target = target;\n  forceAlignPropsRef.current.onAlign = onAlign;\n  var _useBuffer = useBuffer(function () {\n      var _forceAlignPropsRef$c = forceAlignPropsRef.current,\n        latestDisabled = _forceAlignPropsRef$c.disabled,\n        latestTarget = _forceAlignPropsRef$c.target,\n        latestOnAlign = _forceAlignPropsRef$c.onAlign;\n      if (!latestDisabled && latestTarget) {\n        var source = nodeRef.current;\n        var result;\n        var element = getElement(latestTarget);\n        var point = getPoint(latestTarget);\n        cacheRef.current.element = element;\n        cacheRef.current.point = point; // IE lose focus after element realign\n        // We should record activeElement and restore later\n\n        var _document = document,\n          activeElement = _document.activeElement; // We only align when element is visible\n\n        if (element && isVisible(element)) {\n          result = alignElement(source, element, align);\n        } else if (point) {\n          result = alignPoint(source, point, align);\n        }\n        restoreFocus(activeElement, source);\n        if (latestOnAlign && result) {\n          latestOnAlign(source, result);\n        }\n        return true;\n      }\n      return false;\n    }, monitorBufferTime),\n    _useBuffer2 = _slicedToArray(_useBuffer, 2),\n    _forceAlign = _useBuffer2[0],\n    cancelForceAlign = _useBuffer2[1]; // ===================== Effect =====================\n  // Listen for target updated\n\n  var resizeMonitor = React.useRef({\n    cancel: function cancel() {}\n  }); // Listen for source updated\n\n  var sourceResizeMonitor = React.useRef({\n    cancel: function cancel() {}\n  });\n  React.useEffect(function () {\n    var element = getElement(target);\n    var point = getPoint(target);\n    if (nodeRef.current !== sourceResizeMonitor.current.element) {\n      sourceResizeMonitor.current.cancel();\n      sourceResizeMonitor.current.element = nodeRef.current;\n      sourceResizeMonitor.current.cancel = monitorResize(nodeRef.current, _forceAlign);\n    }\n    if (cacheRef.current.element !== element || !isSamePoint(cacheRef.current.point, point)) {\n      _forceAlign(); // Add resize observer\n\n      if (resizeMonitor.current.element !== element) {\n        resizeMonitor.current.cancel();\n        resizeMonitor.current.element = element;\n        resizeMonitor.current.cancel = monitorResize(element, _forceAlign);\n      }\n    }\n  }); // Listen for disabled change\n\n  React.useEffect(function () {\n    if (!disabled) {\n      _forceAlign();\n    } else {\n      cancelForceAlign();\n    }\n  }, [disabled]); // Listen for window resize\n\n  var winResizeRef = React.useRef(null);\n  React.useEffect(function () {\n    if (monitorWindowResize) {\n      if (!winResizeRef.current) {\n        winResizeRef.current = addEventListener(window, 'resize', _forceAlign);\n      }\n    } else if (winResizeRef.current) {\n      winResizeRef.current.remove();\n      winResizeRef.current = null;\n    }\n  }, [monitorWindowResize]); // Clear all if unmount\n\n  React.useEffect(function () {\n    return function () {\n      resizeMonitor.current.cancel();\n      sourceResizeMonitor.current.cancel();\n      if (winResizeRef.current) winResizeRef.current.remove();\n      cancelForceAlign();\n    };\n  }, []); // ====================== Ref =======================\n\n  React.useImperativeHandle(ref, function () {\n    return {\n      forceAlign: function forceAlign() {\n        return _forceAlign(true);\n      }\n    };\n  }); // ===================== Render =====================\n\n  if (React.isValidElement(childNode)) {\n    childNode = React.cloneElement(childNode, {\n      ref: composeRef(childNode.ref, nodeRef)\n    });\n  }\n  return childNode;\n};\nvar RefAlign = React.forwardRef(Align);\nRefAlign.displayName = 'Align';\nexport default RefAlign;","map":{"version":3,"names":["_slicedToArray","_typeof","React","composeRef","isVisible","alignElement","alignPoint","addEventListener","isSamePoint","restoreFocus","monitorResize","useBuffer","getElement","func","getPoint","point","Align","_ref","ref","children","disabled","target","align","onAlign","monitorWindowResize","_ref$monitorBufferTim","monitorBufferTime","cacheRef","useRef","nodeRef","childNode","Children","only","forceAlignPropsRef","current","_useBuffer","_forceAlignPropsRef$c","latestDisabled","latestTarget","latestOnAlign","source","result","element","_document","document","activeElement","_useBuffer2","_forceAlign","cancelForceAlign","resizeMonitor","cancel","sourceResizeMonitor","useEffect","winResizeRef","window","remove","useImperativeHandle","forceAlign","isValidElement","cloneElement","RefAlign","forwardRef","displayName"],"sources":["D:/STUDY/PTIT/NAM_4/KI_1/LT_WEB/BTL_GiuaKy/cellphons/client-cellphones/node_modules/rc-align/es/Align.js"],"sourcesContent":["import _slicedToArray from \"@babel/runtime/helpers/esm/slicedToArray\";\r\nimport _typeof from \"@babel/runtime/helpers/esm/typeof\";\r\n\r\n/**\r\n * Removed props:\r\n *  - childrenProps\r\n */\r\nimport React from 'react';\r\nimport { composeRef } from \"rc-util/es/ref\";\r\nimport isVisible from \"rc-util/es/Dom/isVisible\";\r\nimport { alignElement, alignPoint } from 'dom-align';\r\nimport addEventListener from \"rc-util/es/Dom/addEventListener\";\r\nimport { isSamePoint, restoreFocus, monitorResize } from './util';\r\nimport useBuffer from './hooks/useBuffer';\r\n\r\nfunction getElement(func) {\r\n  if (typeof func !== 'function') return null;\r\n  return func();\r\n}\r\n\r\nfunction getPoint(point) {\r\n  if (_typeof(point) !== 'object' || !point) return null;\r\n  return point;\r\n}\r\n\r\nvar Align = function Align(_ref, ref) {\r\n  var children = _ref.children,\r\n      disabled = _ref.disabled,\r\n      target = _ref.target,\r\n      align = _ref.align,\r\n      onAlign = _ref.onAlign,\r\n      monitorWindowResize = _ref.monitorWindowResize,\r\n      _ref$monitorBufferTim = _ref.monitorBufferTime,\r\n      monitorBufferTime = _ref$monitorBufferTim === void 0 ? 0 : _ref$monitorBufferTim;\r\n  var cacheRef = React.useRef({});\r\n  var nodeRef = React.useRef();\r\n  var childNode = React.Children.only(children); // ===================== Align ======================\r\n  // We save the props here to avoid closure makes props ood\r\n\r\n  var forceAlignPropsRef = React.useRef({});\r\n  forceAlignPropsRef.current.disabled = disabled;\r\n  forceAlignPropsRef.current.target = target;\r\n  forceAlignPropsRef.current.onAlign = onAlign;\r\n\r\n  var _useBuffer = useBuffer(function () {\r\n    var _forceAlignPropsRef$c = forceAlignPropsRef.current,\r\n        latestDisabled = _forceAlignPropsRef$c.disabled,\r\n        latestTarget = _forceAlignPropsRef$c.target,\r\n        latestOnAlign = _forceAlignPropsRef$c.onAlign;\r\n\r\n    if (!latestDisabled && latestTarget) {\r\n      var source = nodeRef.current;\r\n      var result;\r\n      var element = getElement(latestTarget);\r\n      var point = getPoint(latestTarget);\r\n      cacheRef.current.element = element;\r\n      cacheRef.current.point = point; // IE lose focus after element realign\r\n      // We should record activeElement and restore later\r\n\r\n      var _document = document,\r\n          activeElement = _document.activeElement; // We only align when element is visible\r\n\r\n      if (element && isVisible(element)) {\r\n        result = alignElement(source, element, align);\r\n      } else if (point) {\r\n        result = alignPoint(source, point, align);\r\n      }\r\n\r\n      restoreFocus(activeElement, source);\r\n\r\n      if (latestOnAlign && result) {\r\n        latestOnAlign(source, result);\r\n      }\r\n\r\n      return true;\r\n    }\r\n\r\n    return false;\r\n  }, monitorBufferTime),\r\n      _useBuffer2 = _slicedToArray(_useBuffer, 2),\r\n      _forceAlign = _useBuffer2[0],\r\n      cancelForceAlign = _useBuffer2[1]; // ===================== Effect =====================\r\n  // Listen for target updated\r\n\r\n\r\n  var resizeMonitor = React.useRef({\r\n    cancel: function cancel() {}\r\n  }); // Listen for source updated\r\n\r\n  var sourceResizeMonitor = React.useRef({\r\n    cancel: function cancel() {}\r\n  });\r\n  React.useEffect(function () {\r\n    var element = getElement(target);\r\n    var point = getPoint(target);\r\n\r\n    if (nodeRef.current !== sourceResizeMonitor.current.element) {\r\n      sourceResizeMonitor.current.cancel();\r\n      sourceResizeMonitor.current.element = nodeRef.current;\r\n      sourceResizeMonitor.current.cancel = monitorResize(nodeRef.current, _forceAlign);\r\n    }\r\n\r\n    if (cacheRef.current.element !== element || !isSamePoint(cacheRef.current.point, point)) {\r\n      _forceAlign(); // Add resize observer\r\n\r\n\r\n      if (resizeMonitor.current.element !== element) {\r\n        resizeMonitor.current.cancel();\r\n        resizeMonitor.current.element = element;\r\n        resizeMonitor.current.cancel = monitorResize(element, _forceAlign);\r\n      }\r\n    }\r\n  }); // Listen for disabled change\r\n\r\n  React.useEffect(function () {\r\n    if (!disabled) {\r\n      _forceAlign();\r\n    } else {\r\n      cancelForceAlign();\r\n    }\r\n  }, [disabled]); // Listen for window resize\r\n\r\n  var winResizeRef = React.useRef(null);\r\n  React.useEffect(function () {\r\n    if (monitorWindowResize) {\r\n      if (!winResizeRef.current) {\r\n        winResizeRef.current = addEventListener(window, 'resize', _forceAlign);\r\n      }\r\n    } else if (winResizeRef.current) {\r\n      winResizeRef.current.remove();\r\n      winResizeRef.current = null;\r\n    }\r\n  }, [monitorWindowResize]); // Clear all if unmount\r\n\r\n  React.useEffect(function () {\r\n    return function () {\r\n      resizeMonitor.current.cancel();\r\n      sourceResizeMonitor.current.cancel();\r\n      if (winResizeRef.current) winResizeRef.current.remove();\r\n      cancelForceAlign();\r\n    };\r\n  }, []); // ====================== Ref =======================\r\n\r\n  React.useImperativeHandle(ref, function () {\r\n    return {\r\n      forceAlign: function forceAlign() {\r\n        return _forceAlign(true);\r\n      }\r\n    };\r\n  }); // ===================== Render =====================\r\n\r\n  if (React.isValidElement(childNode)) {\r\n    childNode = React.cloneElement(childNode, {\r\n      ref: composeRef(childNode.ref, nodeRef)\r\n    });\r\n  }\r\n\r\n  return childNode;\r\n};\r\n\r\nvar RefAlign = React.forwardRef(Align);\r\nRefAlign.displayName = 'Align';\r\nexport default RefAlign;"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module"}