{"ast":null,"code":"var _jsxFileName = \"D:\\\\STUDY\\\\PTIT\\\\NAM_4\\\\KI_1\\\\LT_WEB\\\\BTL_GiuaKy\\\\cellphons\\\\client-cellphones\\\\src\\\\pages\\\\ModelViewerPage.js\",\n  _s = $RefreshSig$();\nimport React, { useState, useEffect, useRef } from 'react';\nimport { Link } from 'react-router-dom';\nimport Header from '../components/header/Header';\nimport Footer from '../components/footer/Footer';\nimport ImageWithFallback from '../components/ImageWithFallback';\nimport { mockProductsWithAR } from '../data/mockARProducts';\nimport './ARPage.css';\nimport * as THREE from 'three';\nimport { GLTFLoader } from 'three/examples/jsm/loaders/GLTFLoader';\nimport { OrbitControls } from 'three/examples/jsm/controls/OrbitControls';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst ModelViewerPage = () => {\n  _s();\n  const [selectedProduct, setSelectedProduct] = useState(mockProductsWithAR[0]);\n  const [autoRotate, setAutoRotate] = useState(true);\n  const [loading, setLoading] = useState(false);\n  const mountRef = useRef(null);\n  const sceneRef = useRef(null);\n  const cameraRef = useRef(null);\n  const rendererRef = useRef(null);\n  const controlsRef = useRef(null);\n  const modelRef = useRef(null);\n\n  // Initialize Three.js scene\n  useEffect(() => {\n    if (!mountRef.current) return;\n    const width = mountRef.current.clientWidth;\n    const height = mountRef.current.clientHeight;\n\n    // Scene\n    const scene = new THREE.Scene();\n    scene.background = new THREE.Color(0xf0f0f0);\n    sceneRef.current = scene;\n\n    // Camera\n    const camera = new THREE.PerspectiveCamera(45, width / height, 0.1, 1000);\n    camera.position.set(0, 0, 5);\n    cameraRef.current = camera;\n\n    // Renderer\n    const renderer = new THREE.WebGLRenderer({\n      antialias: true\n    });\n    renderer.setSize(width, height);\n    renderer.shadowMap.enabled = true;\n    renderer.shadowMap.type = THREE.PCFSoftShadowMap;\n    mountRef.current.appendChild(renderer.domElement);\n    rendererRef.current = renderer;\n\n    // Lights\n    const ambientLight = new THREE.AmbientLight(0xffffff, 0.6);\n    scene.add(ambientLight);\n    const directionalLight = new THREE.DirectionalLight(0xffffff, 0.8);\n    directionalLight.position.set(5, 10, 7);\n    directionalLight.castShadow = true;\n    scene.add(directionalLight);\n    const pointLight = new THREE.PointLight(0xffffff, 0.5);\n    pointLight.position.set(-5, 5, -5);\n    scene.add(pointLight);\n\n    // Controls\n    const controls = new OrbitControls(camera, renderer.domElement);\n    controls.enableDamping = true;\n    controls.dampingFactor = 0.05;\n    controls.autoRotate = autoRotate;\n    controls.autoRotateSpeed = 2;\n    controlsRef.current = controls;\n\n    // Grid Helper\n    const gridHelper = new THREE.GridHelper(10, 10, 0x888888, 0xcccccc);\n    scene.add(gridHelper);\n\n    // Animation loop\n    const animate = () => {\n      requestAnimationFrame(animate);\n      controls.update();\n      renderer.render(scene, camera);\n    };\n    animate();\n\n    // Handle resize\n    const handleResize = () => {\n      if (!mountRef.current) return;\n      const newWidth = mountRef.current.clientWidth;\n      const newHeight = mountRef.current.clientHeight;\n      camera.aspect = newWidth / newHeight;\n      camera.updateProjectionMatrix();\n      renderer.setSize(newWidth, newHeight);\n    };\n    window.addEventListener('resize', handleResize);\n\n    // Cleanup\n    return () => {\n      window.removeEventListener('resize', handleResize);\n      if (mountRef.current && renderer.domElement) {\n        mountRef.current.removeChild(renderer.domElement);\n      }\n      renderer.dispose();\n    };\n  }, [autoRotate]);\n\n  // Load model when product changes\n  useEffect(() => {\n    if (!sceneRef.current) return;\n    setLoading(true);\n\n    // Remove old model\n    if (modelRef.current) {\n      sceneRef.current.remove(modelRef.current);\n    }\n    const loader = new GLTFLoader();\n    const modelUrl = selectedProduct.arModel || \"http://localhost:4000/models/\".concat(selectedProduct.id, \".glb\");\n    loader.load(modelUrl, gltf => {\n      const model = gltf.scene;\n\n      // Center and scale model\n      const box = new THREE.Box3().setFromObject(model);\n      const center = box.getCenter(new THREE.Vector3());\n      const size = box.getSize(new THREE.Vector3());\n      const maxDim = Math.max(size.x, size.y, size.z);\n      const scale = 3 / maxDim;\n      model.scale.multiplyScalar(scale);\n      model.position.x = -center.x * scale;\n      model.position.y = -center.y * scale;\n      model.position.z = -center.z * scale;\n      model.traverse(child => {\n        if (child.isMesh) {\n          child.castShadow = true;\n          child.receiveShadow = true;\n        }\n      });\n      sceneRef.current.add(model);\n      modelRef.current = model;\n      setLoading(false);\n    }, progress => {\n      console.log('Loading:', progress.loaded / progress.total * 100 + '%');\n    }, error => {\n      console.error('Error loading model:', error);\n      setLoading(false);\n      // Load a default cube if model fails\n      const geometry = new THREE.BoxGeometry(2, 2, 2);\n      const material = new THREE.MeshStandardMaterial({\n        color: 0x00ff00\n      });\n      const cube = new THREE.Mesh(geometry, material);\n      sceneRef.current.add(cube);\n      modelRef.current = cube;\n    });\n  }, [selectedProduct]);\n  const resetCamera = () => {\n    if (cameraRef.current && controlsRef.current) {\n      cameraRef.current.position.set(0, 0, 5);\n      controlsRef.current.reset();\n    }\n  };\n  const toggleAutoRotate = () => {\n    setAutoRotate(!autoRotate);\n    if (controlsRef.current) {\n      controlsRef.current.autoRotate = !autoRotate;\n    }\n  };\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"ar-page\",\n    children: [/*#__PURE__*/_jsxDEV(Header, {}, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 176,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"ar-page-header\",\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"container\",\n        style: {\n          display: 'flex',\n          alignItems: 'center',\n          justifyContent: 'space-between',\n          gap: '1rem'\n        },\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          children: [/*#__PURE__*/_jsxDEV(\"h1\", {\n            children: \"\\uD83D\\uDCF1 Xem Model 3D (Three.js)\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 181,\n            columnNumber: 25\n          }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n            children: \"Kh\\xE1m ph\\xE1 s\\u1EA3n ph\\u1EA9m v\\u1EDBi c\\xF4ng ngh\\u1EC7 3D t\\u01B0\\u01A1ng t\\xE1c s\\u1EED d\\u1EE5ng Three.js\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 182,\n            columnNumber: 25\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 180,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          children: /*#__PURE__*/_jsxDEV(Link, {\n            to: \"/\",\n            className: \"btn btn-secondary\",\n            children: \"\\u2190 V\\u1EC1 trang ch\\u1EE7\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 185,\n            columnNumber: 25\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 184,\n          columnNumber: 21\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 179,\n        columnNumber: 17\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 178,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"product-selection\",\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"container\",\n        children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n          children: \"Ch\\u1ECDn s\\u1EA3n ph\\u1EA9m \\u0111\\u1EC3 xem 3D:\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 193,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"product-cards\",\n          children: mockProductsWithAR.map(product => /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"product-card \".concat(selectedProduct.id === product.id ? 'active' : ''),\n            onClick: () => setSelectedProduct(product),\n            children: [/*#__PURE__*/_jsxDEV(ImageWithFallback, {\n              src: product.image,\n              alt: product.name\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 201,\n              columnNumber: 33\n            }, this), /*#__PURE__*/_jsxDEV(\"h3\", {\n              children: product.name\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 202,\n              columnNumber: 33\n            }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n              children: [product.price.toLocaleString('vi-VN'), \"\\u20AB\"]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 203,\n              columnNumber: 33\n            }, this)]\n          }, product.id, true, {\n            fileName: _jsxFileName,\n            lineNumber: 196,\n            columnNumber: 29\n          }, this))\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 194,\n          columnNumber: 21\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 192,\n        columnNumber: 17\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 191,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"model-viewer-section\",\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"container\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          style: {\n            position: 'relative'\n          },\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            ref: mountRef,\n            style: {\n              width: '100%',\n              height: '600px',\n              borderRadius: '15px',\n              overflow: 'hidden',\n              boxShadow: '0 10px 30px rgba(0,0,0,0.2)',\n              position: 'relative'\n            }\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 214,\n            columnNumber: 25\n          }, this), loading && /*#__PURE__*/_jsxDEV(\"div\", {\n            style: {\n              position: 'absolute',\n              top: '50%',\n              left: '50%',\n              transform: 'translate(-50%, -50%)',\n              background: 'rgba(255, 255, 255, 0.9)',\n              padding: '20px 40px',\n              borderRadius: '10px',\n              fontSize: '18px',\n              fontWeight: 'bold'\n            },\n            children: \"\\uD83D\\uDD04 \\u0110ang t\\u1EA3i model...\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 227,\n            columnNumber: 29\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            style: {\n              position: 'absolute',\n              bottom: '20px',\n              left: '50%',\n              transform: 'translateX(-50%)',\n              background: 'rgba(255, 255, 255, 0.95)',\n              padding: '15px 25px',\n              borderRadius: '30px',\n              boxShadow: '0 4px 15px rgba(0,0,0,0.2)',\n              display: 'flex',\n              gap: '10px',\n              zIndex: 10\n            },\n            children: [/*#__PURE__*/_jsxDEV(\"button\", {\n              onClick: resetCamera,\n              style: {\n                padding: '10px 20px',\n                border: 'none',\n                borderRadius: '20px',\n                background: '#007bff',\n                color: 'white',\n                cursor: 'pointer',\n                fontWeight: '600',\n                transition: 'all 0.3s'\n              },\n              onMouseOver: e => e.target.style.background = '#0056b3',\n              onMouseOut: e => e.target.style.background = '#007bff',\n              children: \"\\uD83D\\uDD04 Reset Camera\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 255,\n              columnNumber: 29\n            }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n              onClick: toggleAutoRotate,\n              style: {\n                padding: '10px 20px',\n                border: 'none',\n                borderRadius: '20px',\n                background: autoRotate ? '#28a745' : '#6c757d',\n                color: 'white',\n                cursor: 'pointer',\n                fontWeight: '600',\n                transition: 'all 0.3s'\n              },\n              onMouseOver: e => e.target.style.background = autoRotate ? '#218838' : '#5a6268',\n              onMouseOut: e => e.target.style.background = autoRotate ? '#28a745' : '#6c757d',\n              children: autoRotate ? '‚è∏Ô∏è D·ª´ng Xoay' : '‚ñ∂Ô∏è T·ª± Xoay'\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 272,\n              columnNumber: 29\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 242,\n            columnNumber: 25\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 213,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          style: {\n            marginTop: '30px',\n            padding: '30px',\n            background: 'linear-gradient(135deg, #667eea 0%, #764ba2 100%)',\n            borderRadius: '15px',\n            color: 'white'\n          },\n          children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n            style: {\n              marginTop: 0\n            },\n            children: selectedProduct.name\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 299,\n            columnNumber: 25\n          }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n            style: {\n              fontSize: '28px',\n              fontWeight: 'bold',\n              margin: '10px 0'\n            },\n            children: [selectedProduct.price.toLocaleString('vi-VN'), \"\\u20AB\"]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 300,\n            columnNumber: 25\n          }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n            style: {\n              marginTop: '15px',\n              lineHeight: '1.8',\n              opacity: 0.9\n            },\n            children: selectedProduct.description || 'S·∫£n ph·∫©m ch·∫•t l∆∞·ª£ng cao v·ªõi thi·∫øt k·∫ø hi·ªán ƒë·∫°i v√† t√≠nh nƒÉng v∆∞·ª£t tr·ªôi.'\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 303,\n            columnNumber: 25\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            style: {\n              marginTop: '25px',\n              background: 'rgba(255, 255, 255, 0.15)',\n              padding: '20px',\n              borderRadius: '10px'\n            },\n            children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n              style: {\n                marginTop: 0\n              },\n              children: \"\\uD83C\\uDFAE H\\u01B0\\u1EDBng d\\u1EABn \\u0111i\\u1EC1u khi\\u1EC3n:\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 313,\n              columnNumber: 29\n            }, this), /*#__PURE__*/_jsxDEV(\"ul\", {\n              style: {\n                lineHeight: '2',\n                paddingLeft: '20px'\n              },\n              children: [/*#__PURE__*/_jsxDEV(\"li\", {\n                children: [/*#__PURE__*/_jsxDEV(\"strong\", {\n                  children: \"Xoay:\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 315,\n                  columnNumber: 37\n                }, this), \" Click chu\\u1ED9t tr\\xE1i v\\xE0 k\\xE9o\"]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 315,\n                columnNumber: 33\n              }, this), /*#__PURE__*/_jsxDEV(\"li\", {\n                children: [/*#__PURE__*/_jsxDEV(\"strong\", {\n                  children: \"Zoom:\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 316,\n                  columnNumber: 37\n                }, this), \" Cu\\u1ED9n chu\\u1ED9t l\\xEAn/xu\\u1ED1ng\"]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 316,\n                columnNumber: 33\n              }, this), /*#__PURE__*/_jsxDEV(\"li\", {\n                children: [/*#__PURE__*/_jsxDEV(\"strong\", {\n                  children: \"Di chuy\\u1EC3n:\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 317,\n                  columnNumber: 37\n                }, this), \" Click chu\\u1ED9t ph\\u1EA3i v\\xE0 k\\xE9o\"]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 317,\n                columnNumber: 33\n              }, this), /*#__PURE__*/_jsxDEV(\"li\", {\n                children: [/*#__PURE__*/_jsxDEV(\"strong\", {\n                  children: \"Mobile:\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 318,\n                  columnNumber: 37\n                }, this), \" Ch\\u1EA1m v\\xE0 k\\xE9o \\u0111\\u1EC3 xoay, pinch \\u0111\\u1EC3 zoom\"]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 318,\n                columnNumber: 33\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 314,\n              columnNumber: 29\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 307,\n            columnNumber: 25\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 292,\n          columnNumber: 21\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 212,\n        columnNumber: 17\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 211,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(Footer, {}, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 325,\n      columnNumber: 13\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 175,\n    columnNumber: 9\n  }, this);\n};\n_s(ModelViewerPage, \"Upbq3HGtpxyzBzpPEAbmecWEHjs=\");\n_c = ModelViewerPage;\nexport default ModelViewerPage;\nvar _c;\n$RefreshReg$(_c, \"ModelViewerPage\");","map":{"version":3,"names":["React","useState","useEffect","useRef","Link","Header","Footer","ImageWithFallback","mockProductsWithAR","THREE","GLTFLoader","OrbitControls","jsxDEV","_jsxDEV","ModelViewerPage","_s","selectedProduct","setSelectedProduct","autoRotate","setAutoRotate","loading","setLoading","mountRef","sceneRef","cameraRef","rendererRef","controlsRef","modelRef","current","width","clientWidth","height","clientHeight","scene","Scene","background","Color","camera","PerspectiveCamera","position","set","renderer","WebGLRenderer","antialias","setSize","shadowMap","enabled","type","PCFSoftShadowMap","appendChild","domElement","ambientLight","AmbientLight","add","directionalLight","DirectionalLight","castShadow","pointLight","PointLight","controls","enableDamping","dampingFactor","autoRotateSpeed","gridHelper","GridHelper","animate","requestAnimationFrame","update","render","handleResize","newWidth","newHeight","aspect","updateProjectionMatrix","window","addEventListener","removeEventListener","removeChild","dispose","remove","loader","modelUrl","arModel","concat","id","load","gltf","model","box","Box3","setFromObject","center","getCenter","Vector3","size","getSize","maxDim","Math","max","x","y","z","scale","multiplyScalar","traverse","child","isMesh","receiveShadow","progress","console","log","loaded","total","error","geometry","BoxGeometry","material","MeshStandardMaterial","color","cube","Mesh","resetCamera","reset","toggleAutoRotate","className","children","fileName","_jsxFileName","lineNumber","columnNumber","style","display","alignItems","justifyContent","gap","to","map","product","onClick","src","image","alt","name","price","toLocaleString","ref","borderRadius","overflow","boxShadow","top","left","transform","padding","fontSize","fontWeight","bottom","zIndex","border","cursor","transition","onMouseOver","e","target","onMouseOut","marginTop","margin","lineHeight","opacity","description","paddingLeft","_c","$RefreshReg$"],"sources":["D:/STUDY/PTIT/NAM_4/KI_1/LT_WEB/BTL_GiuaKy/cellphons/client-cellphones/src/pages/ModelViewerPage.js"],"sourcesContent":["import React, { useState, useEffect, useRef } from 'react';\r\nimport { Link } from 'react-router-dom';\r\nimport Header from '../components/header/Header';\r\nimport Footer from '../components/footer/Footer';\r\nimport ImageWithFallback from '../components/ImageWithFallback';\r\nimport { mockProductsWithAR } from '../data/mockARProducts';\r\nimport './ARPage.css';\r\nimport * as THREE from 'three';\r\nimport { GLTFLoader } from 'three/examples/jsm/loaders/GLTFLoader';\r\nimport { OrbitControls } from 'three/examples/jsm/controls/OrbitControls';\r\n\r\nconst ModelViewerPage = () => {\r\n    const [selectedProduct, setSelectedProduct] = useState(mockProductsWithAR[0]);\r\n    const [autoRotate, setAutoRotate] = useState(true);\r\n    const [loading, setLoading] = useState(false);\r\n    const mountRef = useRef(null);\r\n    const sceneRef = useRef(null);\r\n    const cameraRef = useRef(null);\r\n    const rendererRef = useRef(null);\r\n    const controlsRef = useRef(null);\r\n    const modelRef = useRef(null);\r\n\r\n    // Initialize Three.js scene\r\n    useEffect(() => {\r\n        if (!mountRef.current) return;\r\n\r\n        const width = mountRef.current.clientWidth;\r\n        const height = mountRef.current.clientHeight;\r\n\r\n        // Scene\r\n        const scene = new THREE.Scene();\r\n        scene.background = new THREE.Color(0xf0f0f0);\r\n        sceneRef.current = scene;\r\n\r\n        // Camera\r\n        const camera = new THREE.PerspectiveCamera(45, width / height, 0.1, 1000);\r\n        camera.position.set(0, 0, 5);\r\n        cameraRef.current = camera;\r\n\r\n        // Renderer\r\n        const renderer = new THREE.WebGLRenderer({ antialias: true });\r\n        renderer.setSize(width, height);\r\n        renderer.shadowMap.enabled = true;\r\n        renderer.shadowMap.type = THREE.PCFSoftShadowMap;\r\n        mountRef.current.appendChild(renderer.domElement);\r\n        rendererRef.current = renderer;\r\n\r\n        // Lights\r\n        const ambientLight = new THREE.AmbientLight(0xffffff, 0.6);\r\n        scene.add(ambientLight);\r\n\r\n        const directionalLight = new THREE.DirectionalLight(0xffffff, 0.8);\r\n        directionalLight.position.set(5, 10, 7);\r\n        directionalLight.castShadow = true;\r\n        scene.add(directionalLight);\r\n\r\n        const pointLight = new THREE.PointLight(0xffffff, 0.5);\r\n        pointLight.position.set(-5, 5, -5);\r\n        scene.add(pointLight);\r\n\r\n        // Controls\r\n        const controls = new OrbitControls(camera, renderer.domElement);\r\n        controls.enableDamping = true;\r\n        controls.dampingFactor = 0.05;\r\n        controls.autoRotate = autoRotate;\r\n        controls.autoRotateSpeed = 2;\r\n        controlsRef.current = controls;\r\n\r\n        // Grid Helper\r\n        const gridHelper = new THREE.GridHelper(10, 10, 0x888888, 0xcccccc);\r\n        scene.add(gridHelper);\r\n\r\n        // Animation loop\r\n        const animate = () => {\r\n            requestAnimationFrame(animate);\r\n            controls.update();\r\n            renderer.render(scene, camera);\r\n        };\r\n        animate();\r\n\r\n        // Handle resize\r\n        const handleResize = () => {\r\n            if (!mountRef.current) return;\r\n            const newWidth = mountRef.current.clientWidth;\r\n            const newHeight = mountRef.current.clientHeight;\r\n            camera.aspect = newWidth / newHeight;\r\n            camera.updateProjectionMatrix();\r\n            renderer.setSize(newWidth, newHeight);\r\n        };\r\n        window.addEventListener('resize', handleResize);\r\n\r\n        // Cleanup\r\n        return () => {\r\n            window.removeEventListener('resize', handleResize);\r\n            if (mountRef.current && renderer.domElement) {\r\n                mountRef.current.removeChild(renderer.domElement);\r\n            }\r\n            renderer.dispose();\r\n        };\r\n    }, [autoRotate]);\r\n\r\n    // Load model when product changes\r\n    useEffect(() => {\r\n        if (!sceneRef.current) return;\r\n\r\n        setLoading(true);\r\n\r\n        // Remove old model\r\n        if (modelRef.current) {\r\n            sceneRef.current.remove(modelRef.current);\r\n        }\r\n\r\n        const loader = new GLTFLoader();\r\n        const modelUrl = selectedProduct.arModel || `http://localhost:4000/models/${selectedProduct.id}.glb`;\r\n\r\n        loader.load(\r\n            modelUrl,\r\n            (gltf) => {\r\n                const model = gltf.scene;\r\n\r\n                // Center and scale model\r\n                const box = new THREE.Box3().setFromObject(model);\r\n                const center = box.getCenter(new THREE.Vector3());\r\n                const size = box.getSize(new THREE.Vector3());\r\n\r\n                const maxDim = Math.max(size.x, size.y, size.z);\r\n                const scale = 3 / maxDim;\r\n                model.scale.multiplyScalar(scale);\r\n\r\n                model.position.x = -center.x * scale;\r\n                model.position.y = -center.y * scale;\r\n                model.position.z = -center.z * scale;\r\n\r\n                model.traverse((child) => {\r\n                    if (child.isMesh) {\r\n                        child.castShadow = true;\r\n                        child.receiveShadow = true;\r\n                    }\r\n                });\r\n\r\n                sceneRef.current.add(model);\r\n                modelRef.current = model;\r\n                setLoading(false);\r\n            },\r\n            (progress) => {\r\n                console.log('Loading:', (progress.loaded / progress.total * 100) + '%');\r\n            },\r\n            (error) => {\r\n                console.error('Error loading model:', error);\r\n                setLoading(false);\r\n                // Load a default cube if model fails\r\n                const geometry = new THREE.BoxGeometry(2, 2, 2);\r\n                const material = new THREE.MeshStandardMaterial({ color: 0x00ff00 });\r\n                const cube = new THREE.Mesh(geometry, material);\r\n                sceneRef.current.add(cube);\r\n                modelRef.current = cube;\r\n            }\r\n        );\r\n    }, [selectedProduct]);\r\n    const resetCamera = () => {\r\n        if (cameraRef.current && controlsRef.current) {\r\n            cameraRef.current.position.set(0, 0, 5);\r\n            controlsRef.current.reset();\r\n        }\r\n    };\r\n\r\n    const toggleAutoRotate = () => {\r\n        setAutoRotate(!autoRotate);\r\n        if (controlsRef.current) {\r\n            controlsRef.current.autoRotate = !autoRotate;\r\n        }\r\n    };\r\n\r\n    return (\r\n        <div className=\"ar-page\">\r\n            <Header />\r\n            \r\n            <div className=\"ar-page-header\">\r\n                <div className=\"container\" style={{ display: 'flex', alignItems: 'center', justifyContent: 'space-between', gap: '1rem' }}>\r\n                    <div>\r\n                        <h1>üì± Xem Model 3D (Three.js)</h1>\r\n                        <p>Kh√°m ph√° s·∫£n ph·∫©m v·ªõi c√¥ng ngh·ªá 3D t∆∞∆°ng t√°c s·ª≠ d·ª•ng Three.js</p>\r\n                    </div>\r\n                    <div>\r\n                        <Link to=\"/\" className=\"btn btn-secondary\">‚Üê V·ªÅ trang ch·ªß</Link>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n\r\n            {/* Product Selection */}\r\n            <div className=\"product-selection\">\r\n                <div className=\"container\">\r\n                    <h2>Ch·ªçn s·∫£n ph·∫©m ƒë·ªÉ xem 3D:</h2>\r\n                    <div className=\"product-cards\">\r\n                        {mockProductsWithAR.map(product => (\r\n                            <div \r\n                                key={product.id}\r\n                                className={`product-card ${selectedProduct.id === product.id ? 'active' : ''}`}\r\n                                onClick={() => setSelectedProduct(product)}\r\n                            >\r\n                                <ImageWithFallback src={product.image} alt={product.name} />\r\n                                <h3>{product.name}</h3>\r\n                                <p>{product.price.toLocaleString('vi-VN')}‚Ç´</p>\r\n                            </div>\r\n                        ))}\r\n                    </div>\r\n                </div>\r\n            </div>\r\n\r\n            {/* Three.js 3D Viewer */}\r\n            <div className=\"model-viewer-section\">\r\n                <div className=\"container\">\r\n                    <div style={{ position: 'relative' }}>\r\n                        <div \r\n                            ref={mountRef}\r\n                            style={{\r\n                                width: '100%',\r\n                                height: '600px',\r\n                                borderRadius: '15px',\r\n                                overflow: 'hidden',\r\n                                boxShadow: '0 10px 30px rgba(0,0,0,0.2)',\r\n                                position: 'relative'\r\n                            }}\r\n                        />\r\n                        \r\n                        {loading && (\r\n                            <div style={{\r\n                                position: 'absolute',\r\n                                top: '50%',\r\n                                left: '50%',\r\n                                transform: 'translate(-50%, -50%)',\r\n                                background: 'rgba(255, 255, 255, 0.9)',\r\n                                padding: '20px 40px',\r\n                                borderRadius: '10px',\r\n                                fontSize: '18px',\r\n                                fontWeight: 'bold'\r\n                            }}>\r\n                                üîÑ ƒêang t·∫£i model...\r\n                            </div>\r\n                        )}\r\n\r\n                        <div style={{\r\n                            position: 'absolute',\r\n                            bottom: '20px',\r\n                            left: '50%',\r\n                            transform: 'translateX(-50%)',\r\n                            background: 'rgba(255, 255, 255, 0.95)',\r\n                            padding: '15px 25px',\r\n                            borderRadius: '30px',\r\n                            boxShadow: '0 4px 15px rgba(0,0,0,0.2)',\r\n                            display: 'flex',\r\n                            gap: '10px',\r\n                            zIndex: 10\r\n                        }}>\r\n                            <button \r\n                                onClick={resetCamera}\r\n                                style={{\r\n                                    padding: '10px 20px',\r\n                                    border: 'none',\r\n                                    borderRadius: '20px',\r\n                                    background: '#007bff',\r\n                                    color: 'white',\r\n                                    cursor: 'pointer',\r\n                                    fontWeight: '600',\r\n                                    transition: 'all 0.3s'\r\n                                }}\r\n                                onMouseOver={(e) => e.target.style.background = '#0056b3'}\r\n                                onMouseOut={(e) => e.target.style.background = '#007bff'}\r\n                            >\r\n                                üîÑ Reset Camera\r\n                            </button>\r\n                            <button \r\n                                onClick={toggleAutoRotate}\r\n                                style={{\r\n                                    padding: '10px 20px',\r\n                                    border: 'none',\r\n                                    borderRadius: '20px',\r\n                                    background: autoRotate ? '#28a745' : '#6c757d',\r\n                                    color: 'white',\r\n                                    cursor: 'pointer',\r\n                                    fontWeight: '600',\r\n                                    transition: 'all 0.3s'\r\n                                }}\r\n                                onMouseOver={(e) => e.target.style.background = autoRotate ? '#218838' : '#5a6268'}\r\n                                onMouseOut={(e) => e.target.style.background = autoRotate ? '#28a745' : '#6c757d'}\r\n                            >\r\n                                {autoRotate ? '‚è∏Ô∏è D·ª´ng Xoay' : '‚ñ∂Ô∏è T·ª± Xoay'}\r\n                            </button>\r\n                        </div>\r\n                    </div>\r\n                    \r\n                    <div style={{\r\n                        marginTop: '30px',\r\n                        padding: '30px',\r\n                        background: 'linear-gradient(135deg, #667eea 0%, #764ba2 100%)',\r\n                        borderRadius: '15px',\r\n                        color: 'white'\r\n                    }}>\r\n                        <h2 style={{ marginTop: 0 }}>{selectedProduct.name}</h2>\r\n                        <p style={{ fontSize: '28px', fontWeight: 'bold', margin: '10px 0' }}>\r\n                            {selectedProduct.price.toLocaleString('vi-VN')}‚Ç´\r\n                        </p>\r\n                        <p style={{ marginTop: '15px', lineHeight: '1.8', opacity: 0.9 }}>\r\n                            {selectedProduct.description || 'S·∫£n ph·∫©m ch·∫•t l∆∞·ª£ng cao v·ªõi thi·∫øt k·∫ø hi·ªán ƒë·∫°i v√† t√≠nh nƒÉng v∆∞·ª£t tr·ªôi.'}\r\n                        </p>\r\n                        \r\n                        <div style={{ \r\n                            marginTop: '25px',\r\n                            background: 'rgba(255, 255, 255, 0.15)',\r\n                            padding: '20px',\r\n                            borderRadius: '10px'\r\n                        }}>\r\n                            <h3 style={{ marginTop: 0 }}>üéÆ H∆∞·ªõng d·∫´n ƒëi·ªÅu khi·ªÉn:</h3>\r\n                            <ul style={{ lineHeight: '2', paddingLeft: '20px' }}>\r\n                                <li><strong>Xoay:</strong> Click chu·ªôt tr√°i v√† k√©o</li>\r\n                                <li><strong>Zoom:</strong> Cu·ªôn chu·ªôt l√™n/xu·ªëng</li>\r\n                                <li><strong>Di chuy·ªÉn:</strong> Click chu·ªôt ph·∫£i v√† k√©o</li>\r\n                                <li><strong>Mobile:</strong> Ch·∫°m v√† k√©o ƒë·ªÉ xoay, pinch ƒë·ªÉ zoom</li>\r\n                            </ul>\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n\r\n            <Footer />\r\n        </div>\r\n    );\r\n};\r\n\r\nexport default ModelViewerPage;\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module"}