{"ast":null,"code":"import * as React from 'react';\nimport useForceUpdate from '../../_util/hooks/useForceUpdate';\n/** Always debounce error to avoid [error -> null -> error] blink */\n\nexport default function useCacheErrors(errors, changeTrigger, directly) {\n  var cacheRef = React.useRef({\n    errors: errors,\n    visible: !!errors.length\n  });\n  var forceUpdate = useForceUpdate();\n  var update = function update() {\n    var prevVisible = cacheRef.current.visible;\n    var newVisible = !!errors.length;\n    var prevErrors = cacheRef.current.errors;\n    cacheRef.current.errors = errors;\n    cacheRef.current.visible = newVisible;\n    if (prevVisible !== newVisible) {\n      changeTrigger(newVisible);\n    } else if (prevErrors.length !== errors.length || prevErrors.some(function (prevErr, index) {\n      return prevErr !== errors[index];\n    })) {\n      forceUpdate();\n    }\n  };\n  React.useEffect(function () {\n    if (!directly) {\n      var timeout = setTimeout(update, 10);\n      return function () {\n        return clearTimeout(timeout);\n      };\n    }\n  }, [errors]);\n  if (directly) {\n    update();\n  }\n  return [cacheRef.current.visible, cacheRef.current.errors];\n}","map":{"version":3,"names":["React","useForceUpdate","useCacheErrors","errors","changeTrigger","directly","cacheRef","useRef","visible","length","forceUpdate","update","prevVisible","current","newVisible","prevErrors","some","prevErr","index","useEffect","timeout","setTimeout","clearTimeout"],"sources":["D:/STUDY/PTIT/NAM_4/KI_1/LT_WEB/BTL_GiuaKy/cellphons/client-cellphones/node_modules/antd/es/form/hooks/useCacheErrors.js"],"sourcesContent":["import * as React from 'react';\r\nimport useForceUpdate from '../../_util/hooks/useForceUpdate';\r\n/** Always debounce error to avoid [error -> null -> error] blink */\r\n\r\nexport default function useCacheErrors(errors, changeTrigger, directly) {\r\n  var cacheRef = React.useRef({\r\n    errors: errors,\r\n    visible: !!errors.length\r\n  });\r\n  var forceUpdate = useForceUpdate();\r\n\r\n  var update = function update() {\r\n    var prevVisible = cacheRef.current.visible;\r\n    var newVisible = !!errors.length;\r\n    var prevErrors = cacheRef.current.errors;\r\n    cacheRef.current.errors = errors;\r\n    cacheRef.current.visible = newVisible;\r\n\r\n    if (prevVisible !== newVisible) {\r\n      changeTrigger(newVisible);\r\n    } else if (prevErrors.length !== errors.length || prevErrors.some(function (prevErr, index) {\r\n      return prevErr !== errors[index];\r\n    })) {\r\n      forceUpdate();\r\n    }\r\n  };\r\n\r\n  React.useEffect(function () {\r\n    if (!directly) {\r\n      var timeout = setTimeout(update, 10);\r\n      return function () {\r\n        return clearTimeout(timeout);\r\n      };\r\n    }\r\n  }, [errors]);\r\n\r\n  if (directly) {\r\n    update();\r\n  }\r\n\r\n  return [cacheRef.current.visible, cacheRef.current.errors];\r\n}"],"mappings":"AAAA,OAAO,KAAKA,KAAK,MAAM,OAAO;AAC9B,OAAOC,cAAc,MAAM,kCAAkC;AAC7D;;AAEA,eAAe,SAASC,cAAcA,CAACC,MAAM,EAAEC,aAAa,EAAEC,QAAQ,EAAE;EACtE,IAAIC,QAAQ,GAAGN,KAAK,CAACO,MAAM,CAAC;IAC1BJ,MAAM,EAAEA,MAAM;IACdK,OAAO,EAAE,CAAC,CAACL,MAAM,CAACM;EACpB,CAAC,CAAC;EACF,IAAIC,WAAW,GAAGT,cAAc,CAAC,CAAC;EAElC,IAAIU,MAAM,GAAG,SAASA,MAAMA,CAAA,EAAG;IAC7B,IAAIC,WAAW,GAAGN,QAAQ,CAACO,OAAO,CAACL,OAAO;IAC1C,IAAIM,UAAU,GAAG,CAAC,CAACX,MAAM,CAACM,MAAM;IAChC,IAAIM,UAAU,GAAGT,QAAQ,CAACO,OAAO,CAACV,MAAM;IACxCG,QAAQ,CAACO,OAAO,CAACV,MAAM,GAAGA,MAAM;IAChCG,QAAQ,CAACO,OAAO,CAACL,OAAO,GAAGM,UAAU;IAErC,IAAIF,WAAW,KAAKE,UAAU,EAAE;MAC9BV,aAAa,CAACU,UAAU,CAAC;IAC3B,CAAC,MAAM,IAAIC,UAAU,CAACN,MAAM,KAAKN,MAAM,CAACM,MAAM,IAAIM,UAAU,CAACC,IAAI,CAAC,UAAUC,OAAO,EAAEC,KAAK,EAAE;MAC1F,OAAOD,OAAO,KAAKd,MAAM,CAACe,KAAK,CAAC;IAClC,CAAC,CAAC,EAAE;MACFR,WAAW,CAAC,CAAC;IACf;EACF,CAAC;EAEDV,KAAK,CAACmB,SAAS,CAAC,YAAY;IAC1B,IAAI,CAACd,QAAQ,EAAE;MACb,IAAIe,OAAO,GAAGC,UAAU,CAACV,MAAM,EAAE,EAAE,CAAC;MACpC,OAAO,YAAY;QACjB,OAAOW,YAAY,CAACF,OAAO,CAAC;MAC9B,CAAC;IACH;EACF,CAAC,EAAE,CAACjB,MAAM,CAAC,CAAC;EAEZ,IAAIE,QAAQ,EAAE;IACZM,MAAM,CAAC,CAAC;EACV;EAEA,OAAO,CAACL,QAAQ,CAACO,OAAO,CAACL,OAAO,EAAEF,QAAQ,CAACO,OAAO,CAACV,MAAM,CAAC;AAC5D","ignoreList":[]},"metadata":{},"sourceType":"module"}